<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>MyToolkit</title>
    <link rel="stylesheet" href="./assets/style.css">
  </head>
  <body class = "elseBody" onload="resize();">
    <!-- Navbar at the top -->
    <img src = "./assets/svg/logo_yellow.svg" id = "navbar0" onclick = "showSidebar();" width = "54.5" height = "54.5" class = "logo" style="top: 32px; left: 17px;">
    <div class = "navbar" id = "navbar1" onclick = "showSidebar();" style = "top: 37px; left: 89px;">MYTOOLKIT</div>
    <div class = "navbar" id = "navbar2" style = "top: 37px; left: 1038px;">ABOUT THE TOOLS</div>
    <div class = "navbar" id = "navbar3" style = "top: 37px; left: 1360px;opacity: 0.25;" onclick="window.location = './login.html';">LOGIN</div>
    <!-- Navbar at the top -->

    <!-- Sidebar -->
    <img src = "./assets/svg/sidebar.svg" id = "sidebar0" width = "451.2" height = "864" class = "sidebar" style = "top:-0.5px; left:-451.2px"> <!-- small issue here, corner is not fully rounded-->
    <div class = "sidebarClickables" id = "sidebar1" style = "top: 97px; left: 89px;opacity: 0;" onclick="window.location = 'myschedule.html'">MYSCHEDULE</div>
    <div class = "sidebarClickables" id = "sidebar2" style = "top: 177px; left: 89px;opacity: 0;" onclick="window.location = './mygpa.html'">MYGPA</div>
    <div class = "sidebarClickables" id = "sidebar3" style = "top: 257px; left: 89px;opacity: 0;" onclick="window.location = './myclubs.html'">MYCLUBS</div>
    <div class = "sidebarClickables" id = "sidebar4" style = "top: 337px; left: 89px;opacity: 0;" onclick="window.location = './myday.html';">MYDAY</div>
    <!-- Sidebar -->

    <!-- Login box -->
    <img src = "./assets/svg/login_box.svg" id = "login0" width = "506.5" height = "462" class = "loginBox" style="top:160.75px; left: 514.75px;">
    <img src = "./assets/svg/login_text_entry.svg" id = "login1" width = "420" height = "54" class = "loginBox" style="top:249.75px; left: 557.75px;">
    <img src = "./assets/svg/login_text_entry.svg" id = "login2" width = "420" height = "54" class = "loginBox" style="top:407px; left: 557.75px;">
    <img src = "./assets/svg/go_button.svg" id = "login3" width = "506" height = "54" class = "loginBox" style="top:648.75px; left: 514.75px;" onclick="go()">
    <img src = "./assets/svg/close.svg" id = "login4" width = "22" height = "22" class = "loginClose" style="top:186px; left: 972px;" onclick="window.location = './index.html';">
    <div class = "loginText" id = "login5" style = "top: 189px; left: 557.75px;">Username</div>
    <div class = "loginText" id = "login8" style = "top: 346px; left: 557.75px;">Password</div>
    <div class = "loginSmall" id = "login9" style = "top: 504px; left: 612px;">Don't have an account?<br><u><a href="./signup.html">Sign up!</a></u></div>
    <div class = "goText" id = "login10" style = "top: 643px; left: 728px;opacity: 0.5;" onclick="go()">Go!</div>
    <div class = "loginEntryHolderText" id = "login7" style = "top: 417.25px; left: 585.5px;opacity:0.25;">Password</div>
    <div class = "loginEntryHolderText" id = "login6" style = "top: 260px; left: 585.5px;opacity:0.25;">Username</div>
    <input class = "loginEntryHolderText" type="text" id="username" style="width:355px;top: 260px; left: 585.5px;">
    <input class = "loginEntryHolderText" type="password" id="password" style="width:355px;top: 417.25px; left: 585.5px;">
    <!-- Login box -->
  </body>
  <script>
    function dynamic_TextPositioning(idName, origionalTop, origionalLeft, size) {
      var element = document.getElementById(idName);
      var element_Top = size * origionalTop;
      element.style.top = element_Top + "px";
      var element_Left = size * origionalLeft;
      element.style.left = element_Left + "px";
    }
    function dynamic_TextSize(className, origionalSize, size) {
      var element_Font = size * origionalSize;
      var elements = document.getElementsByClassName(className);
      for (var i = 0; i < elements.length; i++) {
        var element = elements[i];
        element.style.fontSize = element_Font + "px";
      }
    }
    function dynamic_imgSize(className, origionalHeight, origionalWidth, origionalTop, origionalLeft, size) {
      var element = document.getElementById(className);
      var element_Height = size * origionalHeight;
      element.style.width = element_Height + "px";
      var element_Width = size * origionalWidth;
      element.style.height = element_Width + "px";
      var element_Top = size * origionalTop;
      element.style.top = element_Top + "px";
      var element_Left = size * origionalLeft;
      element.style.left = element_Left + "px";
    }
    window.onresize = resize;
    function resize () {
      var current = window.innerWidth;
      var size = window.innerWidth/1536;

      // NAVBAR RESIZE
      dynamic_TextSize('navbar', 32, size)
      dynamic_imgSize('navbar0', 54.5, 54.5, 32, 17, size)
      dynamic_TextPositioning('navbar1', 37, 89, size)
      dynamic_TextPositioning('navbar2', 37, 1038, size)
      dynamic_TextPositioning('navbar3', 37, 1360, size)
      // NAVBAR RESIZE

      // SIDEBAR RESIZE
      dynamic_TextSize('sidebarClickables', 32, size)

      var sidebar_element = document.getElementById('sidebar0');
      var sidebar_Height = size * 864;
      sidebar_element.style.height = sidebar_Height + "px";
      var sidebar_Width = size * 451.2;
      sidebar_element.style.width = sidebar_Width + "px";

      dynamic_TextPositioning('sidebar1', 117, 89, size)
      dynamic_TextPositioning('sidebar2', 197, 89, size)
      dynamic_TextPositioning('sidebar3', 277, 89, size)
      dynamic_TextPositioning('sidebar4', 357, 89, size)
      // SIDEBAR RESIZE

      // LOGIN RESIZE
      dynamic_TextSize('loginText', 32, size)
      dynamic_TextPositioning('login5', 189, 557.75, size)
      dynamic_TextPositioning('login6', 260, 585.5, size)
      dynamic_TextPositioning('login7', 417.25, 585.5, size)
      dynamic_TextPositioning('login8', 346, 557.57, size)
      dynamic_TextPositioning('login10', 643, 728, size)
      dynamic_TextSize('newAccount', 26.75, size)
      dynamic_TextPositioning('login9', 504, 612, size)
      dynamic_TextSize('goText', 48, size)
      dynamic_TextSize('loginEntryHolderText', 24, size)
      dynamic_imgSize('login0', 506.5, 462, 160.75, 514.75, size)
      dynamic_imgSize('login1', 420, 54, 249.75, 557.75, size)
      dynamic_imgSize('login2', 420, 54, 407, 557.75, size)
      dynamic_imgSize('login3', 506, 54, 648.75, 514.75, size)
      dynamic_imgSize('login4', 22, 22, 186, 972, size)
      dynamic_TextPositioning('username', 260, 585.5, size)
      dynamic_TextPositioning('password', 417.24, 585.5, size)
      var element = document.getElementById('username');
      var element_Width = size * 355;
      element.style.width = element_Width + "px";
      var element = document.getElementById('password');
      var element_Width = size * 355;
      element.style.width = element_Width + "px";
      // LOGIN RESIZE
    }
  </script>
  <script> // work on speeding up this execution
    window.onkeyup = keyup;
    function keyup(e) {
      if (document.getElementById("username").value != "" && document.getElementById("login6").style.opacity == 0.25) {
        console.log("username")
        document.getElementById("login6").style.opacity = "0";
      } else if (document.getElementById("username").value == "" && document.getElementById("login6").style.opacity == 0) {
        document.getElementById("login6").style.opacity = "0.25";
      }

      if (document.getElementById("password").value != "" && document.getElementById("login7").style.opacity == 0.25) {
        console.log("password")
        document.getElementById("login7").style.opacity = "0";
      } else if (document.getElementById("password").value == "" && document.getElementById("login7").style.opacity == 0) {
        document.getElementById("login7").style.opacity = "0.25";
      }

      if (document.getElementById("password").value != "" && document.getElementById("username").value != "") {
        console.log("both")
        document.getElementById("login3").src = "./assets/svg/go_button_yellow.svg";
        document.getElementById("login10").style.opacity = "1";
      } else if (document.getElementById("password").value == "" || document.getElementById("username").value == "") {
        document.getElementById("login3").src = "./assets/svg/go_button.svg";
        document.getElementById("login10").style.opacity = "0.5";
      }
    }
    function go() {
      if ((document.getElementById("login3").src).includes("yellow")) {
        username = document.getElementById("username").value
        password = document.getElementById("password").value
        console.log("Trying to authenticate " + username + " and password " + password)
        var xmlHttp = new XMLHttpRequest();
        xmlHttp.open("GET", "http://seal.nighthawkcodingsociety.com/api/users/auth", false); // false for synchronous request
        xmlHttp.send(JSON.stringify({"username": username, "password": password}));
        json = JSON.parse(xmlHttp.responseText);
        document.cookie = "username="+json;
        console.log(json)

        

      }
    }
  </script>
  <script src="./assets/js/animations.js"></script>
</html>